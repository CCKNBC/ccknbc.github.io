<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>CC的部落格</title>
    <link>https://blog.ccknbc.cc/</link>
    
    <author>
      <name>CC康纳百川</name>
      <email>blog@ccknbc.cc</email>
    </author>
    
    
    <image>
      <url>https://cdn.jsdelivr.net/gh/ccknbc-backup/CDN/logo/logo.png</url>
      <title>CC的部落格</title>
      <link>https://blog.ccknbc.cc/</link>
    </image>
    
    <atom:link href="https://blog.ccknbc.cc/rss.xml" rel="self" type="application/rss+xml"/>
    
    <description>CC的部落格，CC康纳百川的小窝，与你分享二三事</description>
    <pubDate>Thu, 02 Dec 2021 15:50:00 GMT</pubDate>
    <lastBuildDate>Thu, 02 Dec 2021 15:50:00 GMT</lastBuildDate>
    <generator>CC的部落格</generator>
    <copyright>Copyright © 2020-present CC康纳百川 All rights reserved.</copyright>
    
    <item>
      <title>CC的社畜日记 Part2</title>
      <link>https://blog.ccknbc.cc/posts/ccs-work-diary-part2/</link>
      <guid>https://blog.ccknbc.cc/posts/ccs-work-diary-part2/</guid>
      <pubDate>Thu, 02 Dec 2021 15:50:00 GMT</pubDate>
      
      <description>选择一个人做好自己的本职工作，还是说去为了跳槽随便跳个坑？</description>
      
      
      
      <content:encoded><![CDATA[<p>查看本文<a href="https://www.yuque.com/ccknbc/blog/33"><strong>语雀</strong></a>版本【首发】，自动同步更新至<a href="https://blog.ccknbc.cc/posts/ccs-work-diary-part2"><strong>CC 的部落格</strong></a>！</p><hr><p>转眼间我已经步入社会快 5 个月了，我还是不太明白这社会的规则。他们教导我这世界不是非黑即白的，要学会圆滑一点，仔细想来倒也没有错。我也不是说喝了什么心灵鸡汤，我不够虚伪，但我足够自私？而在这几个月了，我没有与家人联系，删掉了他们的微信，没有接听电话，回复短信，有时候，我不知道自己在逃避什么。即使我爸精神出轨，但至少对我还算真心的吧，虽然他总是希望生个女孩，又或者格外偏爱小叔家的小孩，但我这么大了还是会吃小孩的醋。虽然我知道他给我打电话大概是为了要给我快递衣服，又或者问一下近况，可是搜索一下公司地址对他们来说应该也是件难事吧。或许我真的要求的太多了，怎么这么自私，和他们的交流大概只有转账记录，以至于上大学后真的没什么话题可以聊了，在他们心中，大概是养了条白眼狼，又或者当没养过这个孩子。姨妈发短信给我，大概是想让我回去看看我妈手术的事情，毕竟我那自认为不想让我牵挂的母亲也就没打算让我知道，他们没有告知我什么，就像我也没有告知他们我早就做好了器官或遗体捐赠的准备。我会嫌弃她为什么会让他把录音删掉，是她太没用了，还是我以前没怎么教她，毕竟她对智能手机的操作逻辑还是顺不过来，其实这是作为子女的失责吧。我也没想过有一天我要远程教母亲用手机取证父亲的语音记录，而不是想着如何去当一个润滑剂去调解中和家庭关系。我的想法是要离赶紧离，反正都不想过了，但我似乎没考虑过为什么他们等我工作了才告诉我这些。就这样一个人还是正常生活，一点也不去关心父母 没点想念他们的念头，其实在我脑海里他们的印象已经很弱了，过年回不回家这个似乎又成了我一个阶段性难题。写在网上 人家都说家丑不可外扬，但我似乎从开没有问过他们的想法，也没给他解释的机会，因为从二年级就一个人住校的原因，我似乎早已经习惯了这种生活，虽然我知道我和他们相处的日子不多了，但我却没想着赶紧抓住机会多多陪伴他们，而是如何逃离那个所谓的家。我也知道将来他们走了以后我一个人的日子有多难过，但我似乎丧失了斗志，觉得自己就是个普通的人，注定将平凡的度过一生，受疫情的影响，我的目标似乎降为了健康活着就挺好。</p><hr><p>说实话，我挺累的，要在同事面前装着像个没事儿人，当然这对我工作还是产生了一定的影响，那就是似乎从不那么看中薪资到追求高薪，我担心的无非是挣的钱不够看病的，如果真的一个人孤独终老，那必须还是要有足够的经济基础作为支撑。但对我本专业的工作来说，我一个普通应届生，即使现在离职估计也不会有什么公司愿意要；如果继续从事半导体可靠性验证，失效分析相关工作，那么我可能需要熬一些年头，实习期满的时候奇葩主管约了爱心驿站心理咨询师（套话工具人）做一个实习期满回访访谈，表示自己骑驴找马找工作，马上部门主管知道了。虽然前面铺陈了一堆你的学习能力和工作能力没什么好说的，但是我们觉得你社交有问题，emm 其实早就知道他们会随便给个理由搪塞我，当她说我们根据综合评定决定延长你的试用期，我就知道以后没好日子过了，毕竟那么多人我一个刺头，她终究要表示她是上级，有一些权利的时候，我无法反驳。不过她很奇怪的问我什么时候会走，以便帮我延长试用期，挺可笑的。当时就回答的事最晚十二月底，其实内心只有一个想法，好啊，根据劳动法规定以书面形式规定试用期，当时签考核表的时候我留了个心眼拍照了（我是储干，所以直属主管就需要设定考核项目，满分 105 分上面写着低于 70 分延长试用期一个月，我也想不明白我为什么得不了 70 分），那就一个月后再说。4 个月前一天（周五）下午，她来恭喜我说和老板商量了一下，看我最近表现不错，决定给我转正了，我就会打了一个字：哦。她问我是不是不在乎啊，我说对啊（内心想法其实是反正就是工资差 300 块，其他没差啦），大概是我效率太高，太拼命，她以为我想干完了赶紧走，一时半会儿又招不到人，所以才给我转正吧，我不想转正的原因就是离职 3 天就好了，试用期至少也得一个星期，我看老员工拖了一个月，新员工一般两周，其实也就还可以接受。就这样我从半导体实验室去了物性实验室，美其名曰，我想多学点知识了，但实际上是不想接触发烟硝酸，硫酸，盐酸，丙酮之类的管制化学药品了，毕竟公司也没那么好心每周给你发几瓶纯牛奶解读，慢性作用谁也说不好。当然去了物性那边自然也不会给我什么常规案件，都是大批量，重复性苦力劳动，耗费时间也学不到什么东西，我也不愿去加班看资料。毕竟像我这样一天磨个三十几个完全是不在话下（规定是每天 6 个），我不过是想尽可能提早干完然后靠写报告拖进度吗，而我真实进度咱也不可能给他汇报，毕竟他会让你快点，再快点，我不想给自己挖坑，我一个人在交期前完成就好了，没必要把自己累死。但我为什么想趁着天气还暖和的时候把切片磨完呢，因为从技术层面上来说，我已经能把切片磨的很平，且恰到好处。但实验室设备不可能是我一个人一直占用，所以我要趁着支援其他同事的人还没来就处理完这些切片，虽然我知道处理完之后又会来下一批。而且水很凉 一天下来整个人其实很难受的，护手霜的钱公司这么抠也是不可能给你补贴的（我们这么大集团，你不要给公司省钱，那你倒是给个温水，开个空调暖气啊，哦我们要环保节能爱地球）。虽然我的工资没有缺过（但保不齐哪一天发生在我身上），但是其他三个同事因为周六加班领导没有签核，没有转薪，并且没有要补偿的想法，他们选择了认栽，其实我是无法理解的，应得的我的东西我就应该享有，工资这最基本的都无法保障你别和我谈什么其他的补偿。毕竟咱们主管一如既往的抠，因为如果要填联络单，主管要被人资那边记警告（这个根本不算事啊），你下属的工资你得给人家保障到位吧，而且本来就是有你的责任啊。直属主管给出的解决办法看起来在做好人实际上很不要脸。周末加班不来，也算一天哈哈（其实人资会不认的，毕竟没有打卡记录），但是人家想挣钱呢双倍呀。也不知道怎么想的，不管你怎么放假，人家的钱没了就是没了。而且主管过两天就返台了，明年才会见到（甚至都离职了，所以估计他们这钱是不好说了）。其实让我最恶心的是直属主管为了加班时跟我说的那句话，你的工资都是人家产线拼出来的，我们的工作就是配合产线，照她这样说那我每天不干活了，等着发工资吧，似乎我没有付出劳动（小杠一下）。她还会吐槽我的穿衣风格，如果有卡通图案的裤子，哪怕是有点花他就觉得应该成熟一点，当时反驳的话是，那你给我买啊，又不是花的你的钱，衣服又不穿你身上，管好你儿子就行了，哪那么多话。当然还有其他例子只能说我的直属主管和主管格局真的很小，小肚鸡肠还爱打小报告。不过很奇怪的是，主管一走一切都变得简单多了，开会再也不用讲那么多废话（毕竟她每天视奸，没必要向她报告，大家都心知肚明的事就没必要周会分享什么了。不过好在公司允许外网登录邮件，该有的都有备份，证据都好好存着呢，如果哪天我也到了忍不下去的地步，咱反手就是一个举报+仲裁。虽然现在我也时常让她在那生闷气，晚上睡不好觉，但我还是有责任心的，自己出来工作还是要树立口碑的，但其他部门同事都觉得她情商低那真的是没法说了。如果你坐在办公区，那她肯定会时不时来一句好累啊，喜欢戴着耳机大声讲电话，生怕别人听不见，就像他们大声密谋一样，我坐在那只能当个聋子。然后说到计划表中提到的年终尾牙部分，为什么没有排出具体时间，因为在我看来这是属于不重要且不紧急的事件，加上各种原因，我那主管发邮件的时候也没有带上我，发给了其他两个新人（又是不成文的规定：新人整节目），大概是我之前和她说要走吧，又或者她知道她无法强迫我来做这些，毕竟我不高兴就会和她对着干（属于是情商低+故意的+不给自己留后路），不如花点时间出来练习打字、PPT 制作或者 Office 的学习，剩余价值可不能被压榨完了。<a href="https://www.yuque.com/ccknbc/todo/list-2021-49w?view=doc_embed">2021-49W 任务清单-看板</a><a href="https://www.yuque.com/ccknbc/todo/week?view=doc_embed">📆 每周非计划日程表</a></p><hr><p>吐槽完，还是要反思一下自己有哪些错误，那些可以改进，以帮助我提高不可替代性和价值，其实屏蔽公司定期面试看看行情和外面的要求挺好的，能迅速帮你找到定位和目标。而有时候我觉得自己在瞎忙，忙了一周但是却没有产出的时候我发现似乎是时间分配以及主次问题，所以我开始使用语雀的数据表功能按照四象限法进行 To Do Task 分配，再具体细化拟定每周非计划日程表，分配我的空余时间，看看我能不能再优化一下任务顺序，提升效率。事实证明，按照重要紧急这个顺序排列真的很好用。然后关于扩充自己的问题，由于重新进行了时间分配，我的效率进一步提高，于是就留出了空余时间供我学习，这是一个好现象。但目前一个很严重的问题就是早睡早起习惯的养成，毕竟我还想着每天起来去操场运动一下，毕竟这个习惯养成了，等再老几岁新陈代谢减慢，是很有帮助的，所以关于自律自控这个问题我也开始强迫自己，毕竟咱天生也不是那种人。说到专业知识，这四个月除了做案子几乎就是做案子，我没有深入去研究我为什么需要去做分析，样品在送到我手上之前发生了什么，失效模式，案件背景，使用环境条件其实都是我要考虑的问题。如果要成为一名优秀的失效分析工程师，我还有很多地方亟待努力，毕竟从局部到正体这是一个能力的跃迁，需要长时间的经验积累，但我也不知道是否有机会熬到那一天。那么另一条路就是赶紧转行去做个人更感兴趣的互联网行业，但我是要做时代的弄潮儿 还是被浪潮拍在沙滩上，这我可能试一试才知道，但如果不开始行动那一切只能是空想。不过目前还是要让自己有一条退路，至少和本专业还算是相关。</p><hr><p>其实工作后有一个明显的变化，我虽然没有往家里拿过钱也没再要过钱，但我确实是合理消费了，并且愿意付费享受更有服务了，毕竟都是我自己赚来的钱。但因为不好意思和家里联系，很多东西就直接换新，然后也没存下什么钱，这是后期需要注意的。</p><hr><pre><code>不过也是有积累到一些人脉，或者说收获了友情，啊能认识帅哥真是值得高兴的事情！因为实验室属于公共部门的原因，会接触到其他许多部门的同事，这一点算是让我一个新来的有很大的参与感，当然我把 Skype 设为离开状态后大半个月也不会有人理我，大概是以为我离职了（大雾），因为之前老是各种人来问你专业知识或者说是当个传声筒，转交给助理或者其他部门同事，似乎只有我有空，人又好说话，但是把我还是不喜欢被占用时间处理这些琐碎杂项。</code></pre>]]></content:encoded>
      
      
      <category domain="https://blog.ccknbc.cc/categories/%E5%B7%A5%E4%BD%9C/">工作</category>
      
      
      <category domain="https://blog.ccknbc.cc/tags/%E7%94%9F%E6%B4%BB/">生活</category>
      
      <category domain="https://blog.ccknbc.cc/tags/%E5%B7%A5%E4%BD%9C/">工作</category>
      
      
      <comments>https://blog.ccknbc.cc/posts/ccs-work-diary-part2/#post-comment</comments>
      
    </item>
    
    <item>
      <title>Hexo Butterfly Algolia 搜索的使用</title>
      <link>https://blog.ccknbc.cc/posts/hexo-butterfly-algolia/</link>
      <guid>https://blog.ccknbc.cc/posts/hexo-butterfly-algolia/</guid>
      <pubDate>Wed, 01 Dec 2021 12:09:00 GMT</pubDate>
      
      <description>本文介绍了 Hexo Butterfly 主题下 Algolia 搜索的使用</description>
      
      
      
      <content:encoded><![CDATA[<p>本文介绍了 Hexo Butterfly 主题下 Algolia 搜索的使用</p><p>本文首发在<a href="https://www.yuque.com/ccknbc/blog/24"><strong>语雀</strong></a>自动同步更新至<a href="https://blog.ccknbc.cc/posts/hexo-butterfly-algolia"><strong>CC 的部落格</strong></a></p><p><s>因为蝴蝶还在使用 V2，而官方已进入 V4 ，所以这里以 V2 做一下展开，虽然功能不是那么全，但对于静态博客来说搜索体验是达到了的，可以点击右上角的 🔍 体验一下。</s></p><p>截止文章更新的前几天，主题已经在测试版升级到 V4，配置项也做了对应的修改，我也做了对应的修改，请自行查看或<a href="https://cdn.jsdelivr.net/gh/CCKNBC/ccknbc.github.io/js/search/algolia.js"><strong>引用</strong></a></p><h2 id="注册账号">注册账号<a class="fa-solid fa-hashtag faa-pulse animated" href="#注册账号"></a></h2><p>前往 <a href="https://www.algolia.com/users/sign_up">Algolia</a> 官网注册一个账号，新建 应用和 index<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620791672826-3bac29b1-3f60-4be8-bdc5-7b615e72f78a.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=721&amp;id=u2756c9ea&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=721&amp;originWidth=1469&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=115021&amp;status=done&amp;style=none&amp;title=&amp;width=1469" alt="image.png">数据中心建议选择新加坡或香港，当然根据你自己情况而定<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620791714386-d2a2ac19-edfd-4c8b-ab02-9de7b770ff21.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=771&amp;id=uce195a9b&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=771&amp;originWidth=1204&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=116921&amp;status=done&amp;style=none&amp;title=&amp;width=1204" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620791516501-3f36941d-cf13-49aa-bdb4-e956f632283a.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=447&amp;id=u8c5cd22c&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=447&amp;originWidth=799&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=23823&amp;status=done&amp;style=none&amp;title=&amp;width=799" alt="image.png"></p><h2 id="安装插件">安装插件<a class="fa-solid fa-hashtag faa-pulse animated" href="#安装插件"></a></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-algolia --save</span><br><span class="line">npm install hexo-algoliasearch --save</span><br></pre></td></tr></table></figure><p>分别是 <a href="https://github.com/oncletom/hexo-algolia">hexo-algolia</a> 和 <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch">hexo-algoliasearch</a>，他们的介绍分别为</p><blockquote><p>Index your hexo website content to Algolia Search.<br>🔎 A plugin to index posts of your Hexo blog on Algolia</p></blockquote><p>也就很明显了，如果你想要全站搜索可选择前者，如果你只想搜索文章两者兼可。但前者不能将文章内容作为索引上传，后者可全文上传。然后就是 HEXO 配置文件中添加以下内容，下文基本以 <code>hexo-algoliasearch</code> 为例，因为我个人认为访客只会搜文章吧（事实上是搜索根本没人用，毕竟也根本没人访问），hexo-algolia 可查看官方文档，注意配置和命令的区别</p><blockquote><p>_config.yml :</p></blockquote><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">&quot;Z7A3XW4R2I&quot;</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">&quot;12db1ad54372045549ef465881c17e743&quot;</span></span><br><span class="line">  <span class="attr">adminApiKey:</span> <span class="string">&quot;40321c7c207e7f73b63a19aa24c4761b&quot;</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">&quot;my-hexo-blog&quot;</span></span><br><span class="line">  <span class="attr">fields:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">content:strip:truncate,0,500</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">excerpt:strip</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">gallery</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">permalink</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">photos</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">slug</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">title</span></span><br></pre></td></tr></table></figure><p>为了保险，识别到插件，还可以加入以下内容</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo-algoliasearch</span></span><br></pre></td></tr></table></figure><p>去主题配置文件打开 Algolia 搜索，记得关闭本地搜索，二者只能取其一！</p><blockquote><p>_config.butterfly.yml :</p></blockquote><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Algolia search</span></span><br><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>然后来看以下具体的参数配置获取方式<code>appId</code>，<code>apiKey</code>，<code>adminApiKey</code>可在 API Keys 页面获取，注意保管好你的 Admin Key，不要让其他人知道，不建议直接写在配置中<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620789827112-9247b7ae-f3c9-4807-93cd-46c2b8dbb2bc.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=707&amp;id=u63248bc0&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=707&amp;originWidth=1900&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=115433&amp;status=done&amp;style=none&amp;title=&amp;width=1900" alt="image.png"><img src="https://cdn.jsdelivr.net/gh/oncletom/hexo-algolia@main/algolia-write-key.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=E3NUV&amp;originHeight=1172&amp;originWidth=1176&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt="">对于 Windows 系统，如果你不想每次都进行设定变量操作，可以添加<code>ALGOLIA_ADMIN_API_KEY</code>到系统的环境变量中<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620789745876-cbf0d411-f694-45c7-bcbd-c0987f71f718.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=217&amp;id=ub7f3b987&amp;name=image.png&amp;originHeight=217&amp;originWidth=839&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13413&amp;status=done&amp;style=none&amp;title=&amp;width=839" alt="image.png">而 hexo-algolia 插件环境变量名称为 <code>HEXO_ALGOLIA_INDEXING_KEY</code> 注意根据对应的文档更改，当然也可以使用命令行工具</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Windows</span></span><br><span class="line"><span class="comment">## 微软的 powershell)</span></span><br><span class="line"><span class="variable">$env</span>:ALGOLIA_ADMIN_API_KEY = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## cmd</span></span><br><span class="line">建议不用 cmd，正经人不用 cmd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Linux</span></span><br><span class="line"><span class="comment">## sh/bash</span></span><br><span class="line"><span class="built_in">export</span> ALGOLIA_ADMIN_API_KEY=</span><br><span class="line"></span><br><span class="line"><span class="comment">## fish</span></span><br><span class="line"><span class="built_in">set</span> -xg ALGOLIA_ADMIN_API_KEY <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>如果你和我一样使用的自动部署，例如 Github Actions，你可以在工作流中一开始或者对应的步骤添加环境变量，记得 Secrets 中也要添加哦</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Hexo</span> <span class="string">Public</span> <span class="string">To</span> <span class="string">Pages</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">      <span class="attr">TZ:</span> <span class="string">Asia/Shanghai</span></span><br><span class="line">      <span class="attr">ALGOLIA_ADMIN_API_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.ALGOLIA_ADMIN_API_KEY</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure><p>或者使用</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> ALGOLIA_ADMIN_API_KEY=…</span><br><span class="line"><span class="built_in">export</span> HEXO_ALGOLIA_INDEXING_KEY=…</span><br></pre></td></tr></table></figure><p><code>indexName</code> 即你开始新建的索引名称<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620790208902-1a6311bf-bd58-4889-9261-f2b6dd4d779e.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=64&amp;id=u57f4c82d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=64&amp;originWidth=379&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5668&amp;status=done&amp;style=none&amp;title=&amp;width=379" alt="image.png">其他内容保持默认即可，但对于<code>fields</code></p><h3 id="配置示例">配置示例<a class="fa-solid fa-hashtag faa-pulse animated" href="#配置示例"></a></h3><p>这里选择不截取上传全文，并且删除 html 标签，只留下有用的搜索内容</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fields:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">content:strip</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">excerpt:strip</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">gallery</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">permalink</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">photos</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">slug</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">title</span></span><br></pre></td></tr></table></figure><p>但对于博客来说，没人会按照 tags photos（或者 cover）来搜索吧，所以有些内容不必要上传，并如果你和我一样有多个镜像站，在不改源码（algolia.js）的情况下，不会使用 permalink 而使用 path（改源码可以使用 slug，但没必要），并且只留下必要的内容，如下所示：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">&quot;947RX7HP3E&quot;</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">&quot;9114b3fa2a3307b2cc8eec7e3ae5a8ea&quot;</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">&quot;ccknbc-blog&quot;</span></span><br><span class="line">  <span class="attr">fields:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">path</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">title</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">content:strip</span></span><br></pre></td></tr></table></figure><p>这样有了标题，全文内容，路径即可在不同镜像站找到对应的页面，而不是跳到主站，当然你选择跳到主站无可厚非。</p><h2 id="使用命令">使用命令<a class="fa-solid fa-hashtag faa-pulse animated" href="#使用命令"></a></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo algolia</span><br><span class="line">而在这之前还需要hexo g生成文件</span><br><span class="line">所以具体使用命令就是</span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo algolia</span><br><span class="line">或者在未安装 HEXO CLI 的情况下使用以下命令</span><br><span class="line">npm run clean &amp;&amp; npm run build &amp;&amp; hexo algolia -n &amp;&amp; gulp</span><br></pre></td></tr></table></figure><h3 id="可选配置">可选配置<a class="fa-solid fa-hashtag faa-pulse animated" href="#可选配置"></a></h3><p>是否删除之前建立好的索引重新建立索引？</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo algolia -n</span><br><span class="line">或者</span><br><span class="line">hexo algolia --no-clear</span><br></pre></td></tr></table></figure><p>注意查看命令行输出信息，然后去官网检查索引是否生成<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792250950-8c6c2e31-a5f4-41d3-8526-c101b88ca2f0.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=676&amp;id=u0aaf2648&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=676&amp;originWidth=1865&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=125864&amp;status=done&amp;style=none&amp;title=&amp;width=1865" alt="image.png">事实上到这里已经可以获得下图所示的搜索效果（这是冰老师博客的效果，它使用的是 hexo-algolia，毕竟有关于我界面）<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1623297781030-708a3fa6-a56d-4fe0-bb45-5c3bb9081eba.png#clientId=uc24fb27d-4fc5-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=udc02fc71&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=508&amp;originWidth=751&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=35158&amp;status=done&amp;style=none&amp;taskId=u0178d8fc-c514-4ab9-9efb-12d94a7bcc6&amp;title=" alt="image.png"></p><h2 id="Algolia-配置">Algolia 配置<a class="fa-solid fa-hashtag faa-pulse animated" href="#Algolia-配置"></a></h2><p>这里不细节讲，你可以查阅<a href="https://community.algolia.com/instantsearch.js/v2/getting-started.html">官方文档</a>，虽然有些过时的参数，但结合 <a href="https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/#upgrade-from-v2-to-v3">Upgrade from v2 to v3</a> 还是勉强能用，蝴蝶已经做好了高亮标题，虽然会查询文章内容，但并不会高亮文章内容节选，我们要做的就是修改部分 js 内容，并对应的设置好 Algolia，以便按照我们要求的优先顺序展示搜索结果，而不是默认的很奇怪的排序，毕竟针对中文分词他是一个一个分不能按照英语那样，针对英文我们可以开启分词查询，驼峰查找而不是盲目的匹配整个单词，并且允许拼错字母或汉字的情况存在，这些都是一个搜索系统要考虑的问题。然后针对搜索速度，我们可以对文章内容进行切片或者属性的刻画，但 V2 所支持的功能实在太少，派的上用场的大概就是 匹配的字词内容，匹配度，匹配内容的摘录（默认 10 个字词），还有高级搜索用法的启用。<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792329244-9538543c-aafa-4a2a-a13b-a856839d99b4.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=490&amp;id=u96dacffc&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=490&amp;originWidth=1526&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=53168&amp;status=done&amp;style=none&amp;title=&amp;width=1526" alt="image.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792359705-aca4db80-07ec-41b5-ba89-3e398e4832c3.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=286&amp;id=u1d01bcee&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=572&amp;originWidth=1520&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=75266&amp;status=done&amp;style=none&amp;title=&amp;width=760" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792403427-919eeaf3-beee-43b8-ba15-33d179fb7483.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=390&amp;id=ua294bd74&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=780&amp;originWidth=1510&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=98311&amp;status=done&amp;style=none&amp;title=&amp;width=755" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792429374-c10f685c-42df-4b2f-8112-b63b811686f5.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=815&amp;id=u8c98eecf&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=815&amp;originWidth=1524&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=88864&amp;status=done&amp;style=none&amp;title=&amp;width=1524" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792467160-7192cedf-ad20-4fd0-bcb2-4f7557fc904d.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=567&amp;id=u6ca53735&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=567&amp;originWidth=1515&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=65520&amp;status=done&amp;style=none&amp;title=&amp;width=1515" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792523507-460b449b-cd80-4efc-897b-898aa544d09a.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=592&amp;id=u28791a5d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1183&amp;originWidth=1537&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=130557&amp;status=done&amp;style=none&amp;title=&amp;width=768.5" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792559182-d559fb1a-94e4-49ad-a13a-f9848fa7f784.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=363&amp;id=u5d9546e2&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=725&amp;originWidth=1511&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=75980&amp;status=done&amp;style=none&amp;title=&amp;width=755.5" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792603109-0c127f51-0fd2-4f86-9290-1f25cf7b4deb.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=358&amp;id=u1977ad48&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=358&amp;originWidth=999&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=26859&amp;status=done&amp;style=none&amp;title=&amp;width=999" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792626661-af14bf9c-6dfb-4306-beaf-d4153095ffbf.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=444&amp;id=uf6f4182f&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=444&amp;originWidth=997&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=27018&amp;status=done&amp;style=none&amp;title=&amp;width=997" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1620792659190-7a5767d3-64f9-4f57-a247-1bbe65f45da5.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=196&amp;id=u51baa85f&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=196&amp;originWidth=976&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=17315&amp;status=done&amp;style=none&amp;title=&amp;width=976" alt="image.png"></p><h2 id="JS-修改">JS 修改<a class="fa-solid fa-hashtag faa-pulse animated" href="#JS-修改"></a></h2><h3 id="主题-4-0-0-以下版本">主题 4.0.0 以下版本<a class="fa-solid fa-hashtag faa-pulse animated" href="#主题-4-0-0-以下版本"></a></h3><p>到这里还没有结束，如果你这样操作就会有一个问题，假设你的访问流量很大，有很多人用搜索功能，那么免费的 1 万次搜索额度可能不够一个月的使用，需要按下<code>ENTER</code>键再执行搜索而不是实时搜索，因此可以稍作修改（blog\themes\butterfly\source\js\search\algolia.js) js 的部分内容，不想动源码的可以保存到其他与主题不冲突的路径，然后更换 CDN 地址即可主要修改以下内容，然后就是排版问题改了改位置，不喜欢的可以不改，很直白就不用过多解释了，这样就可获得和本博客一样的搜索效果了</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  search.addWidget(</span><br><span class="line">    instantsearch.widgets.searchBox(&#123;</span><br><span class="line">      container: &#x27;#algolia-search-input&#x27;,</span><br><span class="line">      reset: false,</span><br><span class="line">      magnifier: false,</span><br><span class="line"><span class="addition">+      searchOnEnterKeyPressOnly: true,</span></span><br><span class="line">      placeholder: GLOBAL_CONFIG.algolia.languages.input_placeholder</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">  search.addWidget(</span><br><span class="line">    instantsearch.widgets.hits(&#123;</span><br><span class="line">      container: &#x27;#algolia-hits&#x27;,</span><br><span class="line">      templates: &#123;</span><br><span class="line">        item: function (data) &#123;</span><br><span class="line">          const link = data.permalink ? data.permalink : (GLOBAL_CONFIG.root + data.path)</span><br><span class="line">          return (</span><br><span class="line">            &#x27;&lt;a href=&quot;&#x27; + link + &#x27;&quot; class=&quot;algolia-hit-item-link&quot;&gt;&lt;b&gt;&#x27; +</span><br><span class="line">            data._highlightResult.title.value + &#x27;&lt;/b&gt;&lt;br&gt;&#x27;</span><br><span class="line"><span class="addition">+            + data._snippetResult.contentStrip.value + &#x27;&lt;br&gt;( 匹配字词 : &#x27;</span></span><br><span class="line"><span class="addition">+            + data._highlightResult.contentStrip.matchedWords + &#x27; ) | ( 匹配等级 : &#x27;</span></span><br><span class="line"><span class="addition">+            + data._highlightResult.contentStrip.matchLevel + &#x27; )&lt;/a&gt;&#x27;</span></span><br><span class="line">          )</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure><h3 id="主题-4-0-0-以上版本">主题 4.0.0 以上版本<a class="fa-solid fa-hashtag faa-pulse animated" href="#主题-4-0-0-以上版本"></a></h3><p>已经升级到 V4 版本，那么一些特性就可以使用了，修改内容其实差不多，只是建议还是对于第 87 行的页数限制，主要是为了手机上排版美观，不会转到下一行，但是这样会有一个问题，如果结果超过 5 页，那么将无法显示，最后一页代表第 5 页，所以我个人会选择删掉这个参数限制，同时合并删除了部分代码，以及使用 widget 的 powerby 组件而不是官方的 svg 代码解决方案同样的部分参数发生了改变（L55-59），可以自行比对或查看<a href="https://www.algolia.com/doc/guides/building-search-ui/getting-started/js/"><strong>官方文档</strong></a>，也可以直接<a href="https://cdn.jsdelivr.net/gh/CCKNBC/ccknbc.github.io/js/search/algolia.js"><strong>引用我的</strong></a></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">CDN:</span></span><br><span class="line">  <span class="comment"># search</span></span><br><span class="line">  <span class="attr">algolia_js:</span> <span class="string">https://cdn.jsdelivr.net/gh/CCKNBC/ccknbc.github.io/js/search/algolia.js</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">openSearch</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> bodyStyle = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>;</span><br><span class="line">    bodyStyle.<span class="property">width</span> = <span class="string">&quot;100%&quot;</span>;</span><br><span class="line">    bodyStyle.<span class="property">overflow</span> = <span class="string">&quot;hidden&quot;</span>;</span><br><span class="line">    btf.<span class="title function_">animateIn</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;search-mask&quot;</span>), <span class="string">&quot;to_show 0.5s&quot;</span>);</span><br><span class="line">    btf.<span class="title function_">animateIn</span>(</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#algolia-search .search-dialog&quot;</span>),</span><br><span class="line">      <span class="string">&quot;titleScale 0.5s&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#algolia-search .ais-SearchBox-input&quot;</span>).<span class="title function_">focus</span>();</span><br><span class="line">    &#125;, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// shortcut: ESC</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">event</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (event.<span class="property">code</span> === <span class="string">&quot;Escape&quot;</span>) &#123;</span><br><span class="line">        <span class="title function_">closeSearch</span>();</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;keydown&quot;</span>, f);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">closeSearch</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> bodyStyle = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>;</span><br><span class="line">    bodyStyle.<span class="property">width</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    bodyStyle.<span class="property">overflow</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    btf.<span class="title function_">animateOut</span>(</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#algolia-search .search-dialog&quot;</span>),</span><br><span class="line">      <span class="string">&quot;search_close .5s&quot;</span></span><br><span class="line">    );</span><br><span class="line">    btf.<span class="title function_">animateOut</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;search-mask&quot;</span>), <span class="string">&quot;to_hide 0.5s&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">searchClickFn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">document</span></span><br><span class="line">      .<span class="title function_">querySelector</span>(<span class="string">&quot;#search-button &gt; .search&quot;</span>)</span><br><span class="line">      .<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, openSearch);</span><br><span class="line">    <span class="variable language_">document</span></span><br><span class="line">      .<span class="title function_">getElementById</span>(<span class="string">&quot;search-mask&quot;</span>)</span><br><span class="line">      .<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, closeSearch);</span><br><span class="line">    <span class="variable language_">document</span></span><br><span class="line">      .<span class="title function_">querySelector</span>(<span class="string">&quot;#algolia-search .search-close-button&quot;</span>)</span><br><span class="line">      .<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, closeSearch);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">searchClickFn</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;pjax:complete&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">getComputedStyle</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#algolia-search .search-dialog&quot;</span>))</span><br><span class="line">      .<span class="property">display</span> === <span class="string">&quot;block&quot;</span> &amp;&amp; <span class="title function_">closeSearch</span>();</span><br><span class="line">    <span class="title function_">searchClickFn</span>();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> algolia = <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">algolia</span>;</span><br><span class="line">  <span class="keyword">const</span> isAlgoliaValid = algolia.<span class="property">appId</span> &amp;&amp; algolia.<span class="property">apiKey</span> &amp;&amp; algolia.<span class="property">indexName</span>;</span><br><span class="line">  <span class="keyword">if</span> (!isAlgoliaValid) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Algolia setting is invalid!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> searchClient = <span class="variable language_">window</span>.<span class="title function_">algoliasearch</span>(algolia.<span class="property">appId</span>, algolia.<span class="property">apiKey</span>);</span><br><span class="line">  <span class="keyword">const</span> search = <span class="title function_">instantsearch</span>(&#123;</span><br><span class="line">    <span class="attr">indexName</span>: algolia.<span class="property">indexName</span>,</span><br><span class="line">    searchClient,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  search.<span class="title function_">addWidgets</span>([</span><br><span class="line">    instantsearch.<span class="property">widgets</span>.<span class="title function_">searchBox</span>(&#123;</span><br><span class="line">      <span class="attr">container</span>: <span class="string">&quot;#algolia-search-input&quot;</span>,</span><br><span class="line">      <span class="attr">showReset</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">showSubmit</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">placeholder</span>: <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">algolia</span>.<span class="property">languages</span>.<span class="property">input_placeholder</span>,</span><br><span class="line">      <span class="attr">searchAsYouType</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">showLoadingIndicator</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    instantsearch.<span class="property">widgets</span>.<span class="title function_">configure</span>(&#123;</span><br><span class="line">      <span class="attr">hitsPerPage</span>: algolia.<span class="property">hits</span>.<span class="property">per_page</span> || <span class="number">5</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    instantsearch.<span class="property">widgets</span>.<span class="title function_">hits</span>(&#123;</span><br><span class="line">      <span class="attr">container</span>: <span class="string">&quot;#algolia-hits&quot;</span>,</span><br><span class="line">      <span class="attr">templates</span>: &#123;</span><br><span class="line">        <span class="attr">item</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">          <span class="keyword">const</span> link = data.<span class="property">permalink</span></span><br><span class="line">            ? data.<span class="property">permalink</span></span><br><span class="line">            : <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">root</span> + data.<span class="property">path</span>;</span><br><span class="line">          <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;a href=&quot;<span class="subst">$&#123;link&#125;</span>&quot; class=&quot;algolia-hit-item-link&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;b&gt;<span class="subst">$&#123;data._highlightResult.title.value || <span class="string">&quot;no-title&quot;</span>&#125;</span>&lt;/b&gt;</span></span><br><span class="line"><span class="string">            &lt;br&gt;<span class="subst">$&#123;data._snippetResult.contentStrip.value&#125;</span>&lt;/br&gt;</span></span><br><span class="line"><span class="string">            匹配字词: &lt;em&gt;&lt;mark&gt;<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">              data._highlightResult.contentStrip.matchedWords</span></span></span><br><span class="line"><span class="subst"><span class="string">            &#125;</span>&lt;/mark&gt;&lt;/em&gt; | 匹配等级: &lt;em&gt;&lt;mark&gt;<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">            data._highlightResult.contentStrip.matchLevel</span></span></span><br><span class="line"><span class="subst"><span class="string">          &#125;</span>&lt;/emmark&gt;&lt;/em&gt;</span></span><br><span class="line"><span class="string">            &lt;/a&gt;`</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">empty</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> (</span><br><span class="line">            <span class="string">&#x27;&lt;div id=&quot;algolia-hits-empty&quot;&gt;&#x27;</span> +</span><br><span class="line">            <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">algolia</span>.<span class="property">languages</span>.<span class="property">hits_empty</span>.<span class="title function_">replace</span>(</span><br><span class="line">              <span class="regexp">/\$\&#123;query&#125;/</span>,</span><br><span class="line">              data.<span class="property">query</span></span><br><span class="line">            ) +</span><br><span class="line">            <span class="string">&quot;&lt;/div&gt;&quot;</span></span><br><span class="line">          );</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">    instantsearch.<span class="property">widgets</span>.<span class="title function_">pagination</span>(&#123;</span><br><span class="line">      <span class="attr">container</span>: <span class="string">&quot;#algolia-pagination&quot;</span>,</span><br><span class="line">      <span class="attr">totalPages</span>: <span class="number">5</span>,</span><br><span class="line">      <span class="attr">templates</span>: &#123;</span><br><span class="line">        <span class="attr">first</span>: <span class="string">&#x27;&lt;i class=&quot;fas fa-angle-double-left&quot; title=&quot;第一页&quot;&gt;&lt;/i&gt;&#x27;</span>,</span><br><span class="line">        <span class="attr">last</span>: <span class="string">&#x27;&lt;i class=&quot;fas fa-angle-double-right&quot; title=&quot;最后一页&quot;&gt;&lt;/i&gt;&#x27;</span>,</span><br><span class="line">        <span class="attr">previous</span>: <span class="string">&#x27;&lt;i class=&quot;fas fa-angle-left&quot; title=&quot;上一页&quot;&gt;&lt;/i&gt;&#x27;</span>,</span><br><span class="line">        <span class="attr">next</span>: <span class="string">&#x27;&lt;i class=&quot;fas fa-angle-right&quot; title=&quot;下一页&quot;&gt;&lt;/i&gt;&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">    instantsearch.<span class="property">widgets</span>.<span class="title function_">stats</span>(&#123;</span><br><span class="line">      <span class="attr">container</span>: <span class="string">&quot;#algolia-stats&quot;</span>,</span><br><span class="line">      <span class="attr">templates</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">          <span class="keyword">const</span> stats = <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">algolia</span>.<span class="property">languages</span>.<span class="property">hits_stats</span></span><br><span class="line">            .<span class="title function_">replace</span>(<span class="regexp">/\$\&#123;hits&#125;/</span>, data.<span class="property">nbHits</span>)</span><br><span class="line">            .<span class="title function_">replace</span>(<span class="regexp">/\$\&#123;time&#125;/</span>, data.<span class="property">processingTimeMS</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;stats&#125;</span>`</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">    instantsearch.<span class="property">widgets</span>.<span class="title function_">poweredBy</span>(&#123;</span><br><span class="line">      <span class="attr">container</span>: <span class="string">&quot;#algolia-powered-by&quot;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ]);</span><br><span class="line">  search.<span class="title function_">start</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">pjax</span> &amp;&amp;</span><br><span class="line">    search.<span class="title function_">on</span>(<span class="string">&quot;render&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">pjax</span>.<span class="title function_">refresh</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;algolia-hits&quot;</span>));</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="最终效果">最终效果<a class="fa-solid fa-hashtag faa-pulse animated" href="#最终效果"></a></h2><h3 id="主题-4-0-0-以下版本-2">主题 4.0.0 以下版本<a class="fa-solid fa-hashtag faa-pulse animated" href="#主题-4-0-0-以下版本-2"></a></h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1623297948979-16f7476e-0978-49ee-a667-2dc060896c88.png#clientId=uc24fb27d-4fc5-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=ud3ca95b0&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=413&amp;originWidth=753&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=40542&amp;status=done&amp;style=none&amp;taskId=u9d85e4b7-062e-432f-b6d8-854d2e5d2eb&amp;title=" alt="image.png">（这个是因为我修改了源码，实际上也能通过修改 JS 实现，但大多数人不会关心这些搜索小贴士）<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1623298049726-3cded22e-2e40-44b3-a445-d542b3bc3c80.png#clientId=uc24fb27d-4fc5-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u13b48f0e&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=601&amp;originWidth=750&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=61545&amp;status=done&amp;style=none&amp;taskId=ua59892ff-66db-45b5-a905-ac97bcb7b4d&amp;title=" alt="image.png">对于中文它当作单字匹配<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1623298062241-b4dd37f7-aa87-485f-a394-950943e0c211.png#clientId=uc24fb27d-4fc5-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u8d3029fa&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=498&amp;originWidth=752&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=40466&amp;status=done&amp;style=none&amp;taskId=uca3eae79-9718-4088-8c72-c34e98f6782&amp;title=" alt="image.png">允许拼写错误<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1623298137784-eb2713f9-377f-4f5d-824d-a7a7b7a881c4.png#clientId=uc24fb27d-4fc5-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=uc7968f09&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=598&amp;originWidth=750&amp;originalType=binary&amp;ratio=2&amp;rotation=0&amp;showTitle=false&amp;size=61697&amp;status=done&amp;style=none&amp;taskId=u9c8b459e-8141-46ef-9d7e-11bd8cc917f&amp;title=" alt="image.png"></p><h3 id="主题-4-0-0-以上版本-2">主题 4.0.0 以上版本<a class="fa-solid fa-hashtag faa-pulse animated" href="#主题-4-0-0-以上版本-2"></a></h3><p>本博客目前使用效果点击搜索按钮即可查看</p><h2 id="如有错误，还望指正！">如有错误，还望指正！<a class="fa-solid fa-hashtag faa-pulse animated" href="#如有错误，还望指正！"></a></h2>]]></content:encoded>
      
      
      <category domain="https://blog.ccknbc.cc/categories/%E5%B7%A5%E5%85%B7/">工具</category>
      
      
      <category domain="https://blog.ccknbc.cc/tags/%E5%B7%A5%E5%85%B7/">工具</category>
      
      <category domain="https://blog.ccknbc.cc/tags/Algolia/">Algolia</category>
      
      
      <comments>https://blog.ccknbc.cc/posts/hexo-butterfly-algolia/#post-comment</comments>
      
    </item>
    
    <item>
      <title>两步验证 最后一道安全防线</title>
      <link>https://blog.ccknbc.cc/posts/2fa-last-security-line/</link>
      <guid>https://blog.ccknbc.cc/posts/2fa-last-security-line/</guid>
      <pubDate>Wed, 01 Dec 2021 12:00:00 GMT</pubDate>
      
      <description>很难想象，如果没有双重验证，我的账号会遭遇什么......</description>
      
      
      
      <content:encoded><![CDATA[<p>查看本文<a href="https://www.yuque.com/ccknbc/blog/32"><strong>语雀</strong></a>版本【首发】，自动同步更新至<a href="https://blog.ccknbc.cc/posts/2fa-last-security-line/"><strong>CC 的部落格</strong></a></p><h2 id="起因">起因<a class="fa-solid fa-hashtag faa-pulse animated" href="#起因"></a></h2><p>写这篇文章的起因很简单，就是那天早上醒来看到一条短信（很巧，9 号正是谷歌为所有用户启用两步验证的日子）<img src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391407/1637592199841-6825a093-4c1a-4fd0-92ae-3f6e8a33faad.jpeg#clientId=u6f78440b-5615-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;height=349&amp;id=udd0b58ac&amp;margin=%5Bobject%20Object%5D&amp;name=qq_pic_merged_1637592156847.jpg&amp;originHeight=727&amp;originWidth=1079&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=40133&amp;status=done&amp;style=none&amp;taskId=ua58f6bdf-5a5b-4438-989d-48b11aae4b0&amp;title=&amp;width=518" alt="qq_pic_merged_1637592156847.jpg">然后赶紧打开邮箱查看通知，并登录修改密码<img src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391407/1637592415257-e28cbe30-4691-437c-bc1e-46053a7b8634.jpeg#clientId=u6f78440b-5615-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1126&amp;id=u48c75059&amp;margin=%5Bobject%20Object%5D&amp;name=Screenshot_20211109_073434_com.facebook.katana.jpg&amp;originHeight=2252&amp;originWidth=1080&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=254469&amp;status=done&amp;style=none&amp;taskId=u6a0e47ea-959a-4f0e-978c-9cbcab6b24f&amp;title=&amp;width=540" alt="Screenshot_20211109_073434_com.facebook.katana.jpg"><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391407/1637592415215-f9884f2d-0f11-40f0-8d55-ee771da2ae43.jpeg#clientId=u6f78440b-5615-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=822&amp;id=ua1d2e437&amp;margin=%5Bobject%20Object%5D&amp;name=Screenshot_20211109_073115_com.android.chrome.jpg&amp;originHeight=1644&amp;originWidth=1073&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=207330&amp;status=done&amp;style=none&amp;taskId=uaa664417-bfb4-41ad-afa2-4890546f678&amp;title=&amp;width=536.5" alt="Screenshot_20211109_073115_com.android.chrome.jpg"><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391407/1637592414622-461d9eb9-61cd-4c1a-a548-c6f13d50da87.jpeg#clientId=u6f78440b-5615-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=558&amp;id=ub710f865&amp;margin=%5Bobject%20Object%5D&amp;name=Screenshot_20211109_073214_com.android.chrome.jpg&amp;originHeight=1116&amp;originWidth=1080&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=126547&amp;status=done&amp;style=none&amp;taskId=ub9025d77-97d1-4d66-a6b6-2b944210759&amp;title=&amp;width=540" alt="Screenshot_20211109_073214_com.android.chrome.jpg"><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391407/1637592414756-7b12ffc9-0101-4294-a69d-f12a850b3106.jpeg#clientId=u6f78440b-5615-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=402&amp;id=u845afc56&amp;margin=%5Bobject%20Object%5D&amp;name=Screenshot_20211109_073348_com.android.chrome.jpg&amp;originHeight=803&amp;originWidth=1080&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=135440&amp;status=done&amp;style=none&amp;taskId=uf6cc0589-f1e6-4474-80f1-a3a754ce3bb&amp;title=&amp;width=540" alt="Screenshot_20211109_073348_com.android.chrome.jpg"><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/8391407/1637592415222-632df2a4-4ff3-47c5-a5b2-b6d47767e539.jpeg#clientId=u6f78440b-5615-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1110&amp;id=uaf23cf02&amp;margin=%5Bobject%20Object%5D&amp;name=Screenshot_20211109_073404_com.google.android.gms.jpg&amp;originHeight=2220&amp;originWidth=1073&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=158186&amp;status=done&amp;style=none&amp;taskId=ub0d2284a-244e-4474-ad2a-6d3351e81da&amp;title=&amp;width=536.5" alt="Screenshot_20211109_073404_com.google.android.gms.jpg">虽然是我不怎么使用的老帐号，但是还是觉得有点恐怖，对于像我这样很多平台都使用一个密码的人来说，如果没有两步验证，我可能要失去账号使用权了，毕竟还是有很多回忆，因此如何友好的使用 <code>2FA</code> 是个问题，而我也在慢慢学习。</p><h2 id="探索">探索<a class="fa-solid fa-hashtag faa-pulse animated" href="#探索"></a></h2><p>说到帐号安全，大家都知道国内很多网络服务 (如淘宝、银行)，除了正确的帐号密码之外，常常还需要额外给你发一条<strong>手机短信验证码</strong>，以此进一步确认你是帐号的真正主人。这其实就是「<strong>两步验证</strong>」或者叫做「双因素验证」的一种实现方式，它这里第二步验证是靠手机短信来发送验证码的。而国外更多的网站/网络服务还会使用一种叫“<strong>身份验证器</strong>”或叫“虚拟 MFA”的二步验证方式，它是利用一种“随时间变化的验证码”来取代手机短信，不仅更安全，而且可离线使用，通用性也更强……</p><h3 id="开启两步验证-双重验证有什么好处？">开启两步验证/双重验证有什么好处？<a class="fa-solid fa-hashtag faa-pulse animated" href="#开启两步验证-双重验证有什么好处？"></a></h3><p>和短信验证码一样道理，这里的两步验证也是相当于给帐号多加一把“锁”(多一步的验证)，在输入正确的账号密码之后，用户同样还需要额外输入一个每 30 秒自动变化一次的 6 位数字「二步验证码」才能完成登录。</p><p>所以即使你的帐号和密码不慎泄露了，别人在没有这个数字验证码也是无法登录你的账号的，这可以大大提高<a href="https://www.iplaysoft.com/tag/%E7%A0%B4%E8%A7%A3">破解</a>的难度和帐号的安全性。所以建议所有能开启二步验证的重要网络帐号都要全部开启。</p><h3 id="二步验证和手机短信验证码有什么区别？">二步验证和手机短信验证码有什么区别？<a class="fa-solid fa-hashtag faa-pulse animated" href="#二步验证和手机短信验证码有什么区别？"></a></h3><p>手机短信验证码和两步验证的目的和作用基本一致，不过很多的 (国外) 网络服务并不支持发送手机短信验证码，主要是短信成本高，而且有安全性风险 (比如 2G 网络下黑客可以利用 GSM 漏洞监听截取到用户的手机号码和短信内容)。</p><p>而本文所说的二步验证是指虚拟 MFA，或者说是“身份验证器”，是基于时间和加密算法生成“每 30 秒变化一次的 6 位数字验证码”，也叫做 TOTP (Time-Based One-time Password) 或 OTP 一次性密码。它的优点是使用时无需联网、仅需时间进行计算、速度快、可离线使用、没有额外成本、算法协议公开通用，开发和使用上都很简单，可以用小型硬件 (实体的密码器) 或纯软件 APP 来实现，因此更多的网站会支持这种方式。</p><h3 id="两步验证、MFA、2FA、多因素验证都是些什么鬼？">两步验证、MFA、2FA、多因素验证都是些什么鬼？<a class="fa-solid fa-hashtag faa-pulse animated" href="#两步验证、MFA、2FA、多因素验证都是些什么鬼？"></a></h3><p>我们常常会见到“<strong>两步验证</strong>”、“<strong>二步验证</strong>”、“双因素验证”、“多因素验证”、“虚拟 MFA”、“动态令牌”、“<strong>双重验证</strong>”、“2FA”、“Two-Factor Authentication”、“Multi-Factor Authentication”、“OTP”、“TOTP”等等词语，不过你完全不需要被吓到。</p><p>因为其实它们都是在说同一个意思，就是除帐号密码这一个因素以外，再多增加一个要验证的因素。实现形式可以是用手机短信、邮件来发送验证码，也可以是本文所述的基于时间生成“不断变化”的一次性数字验证码。</p><h3 id="怎样使用二步验证？身份验证器-密码器-APP-推荐">怎样使用二步验证？身份验证器/密码器 APP 推荐<a class="fa-solid fa-hashtag faa-pulse animated" href="#怎样使用二步验证？身份验证器-密码器-APP-推荐"></a></h3><p>那么，既然不靠手机短信发送验证码？我要从哪里得到这个不断变化的 6 位数字二步验证码呢？其实我们只需要安装一个「二步验证 APP」(<strong>身份验证器应用</strong>) 来生成它即可。这类密码器 APP 有很多，后面会介绍。</p><p>值得了解的是，大多数网站的帮助和提示上都以 Google Authenticator (谷歌身份验证器) 这款 APP 作为例子，但其实，这类二步验证应用 / 身份验证器 APP 都是遵循 TOTP 协议 (同一套加密算法) 生成验证码的，所以它们完全通用，使用上也大同小异，用户只需按喜好选择即可，而不是必须选择某一个 APP 的。</p><blockquote><p>Authy - 最好用的二步验证 / 身份验证器 APP</p></blockquote><p><strong>Authy</strong> 是我个人最推荐的二步验证密码生成器 APP 应用，它完全免费，全平台通用，支持 iOS / Android / Windows / macOS/Linux 系统，提供 Chrome 的浏览器插件（已经停止服务），而且可以备份数据，并支持跨设备同步，可以一 APP 通行全部支持 TOTP 两步验证的网站。</p><blockquote><p>1Password</p></blockquote><p>1Password 可以说是最出色的跨平台密码管理器，唯一的缺点就是稍贵。它除了支持帐号密码管理以及自动填写密码等功能以外，新版本同样「也可以支持一次性密码 (TOTP 两步验证码)」，数据可以云端同步，使用上非常方便，据说就连苹果也为员工统一配备此 APP。</p><blockquote><p>Microsoft Authenticator - 微软身份验证器</p></blockquote><p>顾名思义，这个就是由微软开发的两步验证器应用，完全免费，跨平台支持 iOS 和安卓，界面简约。新版本增加了数据备份功能，因此也是一个不错的选择。</p><blockquote><p>不推荐使用 Google 身份验证器</p></blockquote><p>相对的，我个人**「并不建议」使用 Google 身份验证器**，尽管很多网站推会荐它，我认为这只是因为它免费、<a href="https://www.iplaysoft.com/tag/google">Google</a> 的影响力大、并且它出现得比较早而且。它的缺点非常明显——不支持数据备份！（非常鸡肋的二维码换机备份功能）</p><p>也就是说，如果手机丢失或刷机清空数据后，你的网络账号就麻烦了 (因为你必须使用原来设置两步验证时留存的备用码进行恢复)。而 Authy 或 <a href="https://www.iplaysoft.com/1password.html">1Password</a> 这些可以备份和同步的 APP 则没有这个担忧。</p><blockquote><p>如果你是用的是安卓手机，或许可以试试<code>Aegis</code>这款应用，它的备份导入导出功能也是不错的，方便一键换机，也支持中文，而且开源免费！</p></blockquote><h3 id="怎样开启两步验证？">怎样开启两步验证？<a class="fa-solid fa-hashtag faa-pulse animated" href="#怎样开启两步验证？"></a></h3><p>一般在支持二步验证的网站上 (比如我知道的就有：阿里云、腾讯云、Amazon、Humble Bundle、坚果云、Dropbox、Linode、GitHub、微软帐号、Google 帐号、Twitter、Instagram、NameSilo、印象笔记等等)，在其“帐号”或“安全”相关页面就能找到「开启两步验证」的选项，然后它就会给你出示一个二维码让你扫描，这时候，你使用任何两步验证的密码认证器 APP (身份验证器应用) ，比如上面推荐的 <strong>Authy</strong> 扫描一下这个二维码进行即可完成“配对 / 绑定”。之后你就能在 APP 里面获取登录所需的 6 位数字一次性验证码了！此外网站通常会提供一串代码供手动复制粘贴添加，一般来说复制粘贴均可自动识别。<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1637594938881-40e944f3-99ce-40c5-86a3-a8a4fd834988.png#clientId=u941e87ed-391f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=394&amp;id=udcde0399&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=788&amp;originWidth=490&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=58959&amp;status=done&amp;style=none&amp;taskId=u892cd520-6c58-4cd5-b93c-5ebe53e1510&amp;title=&amp;width=245" alt="image.png">这时你还需要回到网站上，输入正确的验证码，然后点确认保存一下，成功之后该帐号即会正式启用 TOTP 方式的两步验证。值得注意的是，在“绑定”成功并启用二步验证后，部分网站会给你提供一些「<strong>备用代码</strong>」(备用安全码 / 恢复码) 作为应急手段，在你丢失二步验证设备或数据的情况下，可以用它们来登录并取消二步验证，它们相当于是解除二步验证的最后一条钥匙。所以务必要保存好这些备用安全码，个人建议可以将它们保存在印象笔记、1Password 或者打印出来存放好。否则当意外情况发生 (无法获得二步验证码) 后，你又没有这个恢复码时，你的账号可能将永远无法被访问。所以，<strong>备用码非常重要！非常重要！非常重要！切记要</strong>备份<strong>好！</strong>不同的网站/网络服务开通使用密码认证器的两步验证的流程基本都一样，只是网站界面显示有所不同，大家可以逐一登录到各个网站后台账户页面去看看具体怎样设置。</p><h2 id="分享">分享<a class="fa-solid fa-hashtag faa-pulse animated" href="#分享"></a></h2><p>其实网上关于这个话题已经有很多优秀帖子，博文，所以这篇文章不会过多讲什么，当一个记录罢了。</p><p>总之，重要的网络账号单单只靠密码来保证安全是不够稳妥的，因为它们很容易泄露。「两步验证」才是目前互联网上最佳的安全举措，你不应该忽略它。</p><p>对于重要的账号，基本上只要开启了两步验证并且保存好备用恢复码，它们就几乎不可能被陌生人盗用，轻松把帐号被盗的损失风险和概率降到了最低。所以，如果你之前没试过，那么看完这篇文章后，建议你把支持两步验证的网站都开启它。</p><h2 id="从哪里下载虚拟验证器">从哪里下载虚拟验证器<a class="fa-solid fa-hashtag faa-pulse animated" href="#从哪里下载虚拟验证器"></a></h2><p>Authy 官网：<a href="https://authy.com">https://authy.com</a>Microsoft Authenticator 官网：<a href="https://www.microsoft.com/zh-cn/account/authenticator">https://www.microsoft.com/zh-cn/account/authenticator</a>Google Authenticator 官网：<a href="https://www.google.cn/intl/zh-CN/landing/2step/index.html">https://www.google.cn/intl/zh-CN/landing/2step/index.html</a>Aegis 主页：<a href="https://getaegis.app/">https://getaegis.app/</a></p><h2 id="可能会用到的资料">可能会用到的资料<a class="fa-solid fa-hashtag faa-pulse animated" href="#可能会用到的资料"></a></h2><p>Authy 和 Google Authenticator 对比：<a href="https://link.zhihu.com/?target=https%3A//authy.com/blog/authy-vs-google-authenticator/">https://authy.com/blog/authy-vs-google-authenticator</a>Microsoft Authenticator 使用方法：<a href="http://www.xitongtiandi.net/wenzhang/win10/26184.html">http://www.xitongtiandi.net/wenzhang/win10/26184.html</a>支持二次验证的网络服务：<a href="https://www.appinn.com/10-two-factor-authentication">https://www.appinn.com/10-two-factor-authentication</a></p>]]></content:encoded>
      
      
      <category domain="https://blog.ccknbc.cc/categories/%E5%B7%A5%E5%85%B7/">工具</category>
      
      
      <category domain="https://blog.ccknbc.cc/tags/%E5%B7%A5%E5%85%B7/">工具</category>
      
      <category domain="https://blog.ccknbc.cc/tags/%E5%AE%89%E5%85%A8/">安全</category>
      
      
      <comments>https://blog.ccknbc.cc/posts/2fa-last-security-line/#post-comment</comments>
      
    </item>
    
    <item>
      <title>Google Adsense 配置手册</title>
      <link>https://blog.ccknbc.cc/posts/google-adsense-configuration-manual/</link>
      <guid>https://blog.ccknbc.cc/posts/google-adsense-configuration-manual/</guid>
      <pubDate>Mon, 08 Nov 2021 11:20:00 GMT</pubDate>
      
      <description>本文根据 CC 个人使用经验来介绍 Google Adsense 的食用方法</description>
      
      
      
      <content:encoded><![CDATA[<p>本文首发在<a href="https://www.yuque.com/ccknbc/blog/31"><strong>语雀</strong></a>，自动同步更新至<a href="https://blog.ccknbc.cc/posts/google-adsense-configuration-manual"><strong>CC 的部落格</strong></a></p><h2 id="写在前面">写在前面<a class="fa-solid fa-hashtag faa-pulse animated" href="#写在前面"></a></h2><p>当作是一个公告了，如果你“不幸”点开了这篇文章，那么麻烦您动动小手，关闭您的广告屏蔽插件，或者添加本站到白名单，然后刷新一下点击一次广告（虽然还是有几率看不到广告）后继续浏览本篇文章</p><h2 id="缘起">缘起<a class="fa-solid fa-hashtag faa-pulse animated" href="#缘起"></a></h2><p>Q：如果你的流量还可以，自认为文章写的还不错，有了一定的阅读基数，那么你会选择开启赞赏功能还是开启 Google Adsense 呢？</p><p>当然如果有人愿意赞赏支持你继续创作，或者是你真的帮助别人解决了一些问题，那么可能会收到一些打赏；但对于我这种产出有限的来说，开启广告或者是更好的选择（我已经厚脸皮求您暂时关掉广告插件了，如果还是不愿意点击广告，那真的是不喜欢广告了）；因此博客成立以来便一直未提供赞赏二维码，广告也只是申请的那段时间开过一段时间，直到最近，才加入了爱发电（但有手续费，所以不是很推荐）；即使很早就开通了 Adsense ，但因为身在大陆，还是要遵守相关法律法规，毕竟也公安备案了，如果不注意就可能引来麻烦，所以如何设置好 Adsense 一直困扰着我。</p><h2 id="配置">配置<a class="fa-solid fa-hashtag faa-pulse animated" href="#配置"></a></h2><h3 id="阅读体验">阅读体验<a class="fa-solid fa-hashtag faa-pulse animated" href="#阅读体验"></a></h3><p>关于如何配置其实很简单，只是因为我们是博客，所以还是要注意用户阅读体验，因此我们需要为移动设备优化广告尺寸，并且将广告数量调至最低（自动广告），关闭影响阅读体验的锚定广告和穿插广告等<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428346469-f4520c37-4d94-45c7-b508-82c486ab7f63.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u34996628&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%9915-%E2%80%93-Google-AdSense.png&amp;originHeight=536&amp;originWidth=900&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=54095&amp;status=done&amp;style=none&amp;taskId=ueafa19b2-49e6-472a-9db4-36ef7af8503&amp;title=" alt="所有网站15-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428396535-48847476-a0f6-48b9-a9d6-03ca4b239f7f.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=uc3d9ad6f&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%9911-%E2%80%93-Google-AdSense.png&amp;originHeight=666&amp;originWidth=451&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=53097&amp;status=done&amp;style=none&amp;taskId=u21478629-a5bb-47c0-8e93-0368c7e5da4&amp;title=" alt="所有网站11-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428402109-0b01d130-db6a-4287-9108-d3f62c216bb3.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u617414fc&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%9912-%E2%80%93-Google-AdSense.png&amp;originHeight=1385&amp;originWidth=449&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=58805&amp;status=done&amp;style=none&amp;taskId=uf602eea2-118b-47f7-ac3a-55fc796c845&amp;title=" alt="所有网站12-–-Google-AdSense.png">至于排除网页，因为开启了匹配内容，那么我们有必要屏蔽掉 404 页面<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1636370271352-de513540-99e3-4c69-a1f3-0c6b9302303f.png#clientId=u0b8af91e-07e4-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=220&amp;id=u3a172f83&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=440&amp;originWidth=452&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=19473&amp;status=done&amp;style=none&amp;taskId=uc63976a3-4686-4795-a9c1-393eefc36dc&amp;title=&amp;width=226" alt="image.png">此外，如果你使用的是自定义广告单元广告，按照使用体验，可在首页放置信息流广告，侧边栏放置展示广告，文章页放置内嵌广告（在对应位置插入对应代码）<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428577592-1583d7c2-dda4-4528-af6e-b84be4133140.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=uf58ebec4&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%9914-%E2%80%93-Google-AdSense.png&amp;originHeight=1126&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=186457&amp;status=done&amp;style=none&amp;taskId=ue97a6c12-617c-4f0b-8c80-d37b7bf495d&amp;title=" alt="所有网站14-–-Google-AdSense.png"></p><h3 id="屏蔽内容">屏蔽内容<a class="fa-solid fa-hashtag faa-pulse animated" href="#屏蔽内容"></a></h3><blockquote><ol><li>敏感类别，例如涉黄涉政内容，即使我本人还算比较开放，但网站广告的受众我无法保证，所以为了未成年的健康成长，我会屏蔽掉所有敏感类别</li></ol></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427678324-df66d562-828f-458c-95a1-da0418b89a55.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u28c67ee4&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%996-%E2%80%93-Google-AdSense.png&amp;originHeight=1437&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=188540&amp;status=done&amp;style=none&amp;taskId=u8a560340-a133-4274-b543-71059d864cf&amp;title=" alt="所有网站6-–-Google-AdSense.png"></p><blockquote><ol start="2"><li>普通类别，最为典型的就是赌博和网络连接类应用，但即使这样屏蔽掉，还是偶尔会有漏网之鱼，因此我会定期手动屏蔽不合适的广告</li></ol></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427863020-de9f1391-95d7-4794-9c6b-b4b716b92b63.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=ub032e38e&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%99-%E2%80%93-Google-AdSense.png&amp;originHeight=2471&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=371923&amp;status=done&amp;style=none&amp;taskId=u464ad97d-52dd-44c1-89b2-26620541000&amp;title=" alt="所有网站-–-Google-AdSense.png"></p><blockquote><p>其实类别还有其他，后续也会慢慢更新，只是这张图就不再更新了，因为长截图吗（懒），所以看下面的图片就好了</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427884580-ac7e7e2e-a27a-4005-9169-9283b02e0aef.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=uacd846f0&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%991-%E2%80%93-Google-AdSense.png&amp;originHeight=1026&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=167430&amp;status=done&amp;style=none&amp;taskId=u40757193-cf4f-40e1-b830-77fa250ad52&amp;title=" alt="所有网站1-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427903527-4d4de4a0-8509-485c-b508-b2ec35a3f59e.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u825a6f03&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%992-%E2%80%93-Google-AdSense.png&amp;originHeight=200&amp;originWidth=1390&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=41118&amp;status=done&amp;style=none&amp;taskId=u6e59097f-d658-4c24-b97a-3a34b224a3a&amp;title=" alt="所有网站2-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427910515-bda36ebb-6767-44da-ae60-3ae4065a2a12.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u1db67d41&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%993-%E2%80%93-Google-AdSense.png&amp;originHeight=391&amp;originWidth=1380&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=74911&amp;status=done&amp;style=none&amp;taskId=u13b1ca38-4653-4bd1-accb-f937fc1eff8&amp;title=" alt="所有网站3-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427917121-d47b5ed8-55b3-45ab-b12d-8c24d14c2784.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=ubdca728c&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%994-%E2%80%93-Google-AdSense.png&amp;originHeight=177&amp;originWidth=1372&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=46106&amp;status=done&amp;style=none&amp;taskId=u3719f3a6-5647-45e0-babf-ee77f651c28&amp;title=" alt="所有网站4-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427952977-dcf2645b-5b32-41ea-87fd-26f0174e90e9.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u3669b3b1&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%9916-%E2%80%93-Google-AdSense.png&amp;originHeight=892&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=493330&amp;status=done&amp;style=none&amp;taskId=u70491bc9-040e-4c13-bccd-11310a1e6bd&amp;title=" alt="所有网站16-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635427965638-fe4fec45-0413-444f-88fe-4a0e9a4aefcf.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u546bcac0&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%9917-%E2%80%93-Google-AdSense.png&amp;originHeight=892&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=357143&amp;status=done&amp;style=none&amp;taskId=u300930e4-0dd9-48c0-b830-cbed994b160&amp;title=" alt="所有网站17-–-Google-AdSense.png">说真的，关于这个社交网络在线社区类别我觉得有必要考量一下，有待后续观察中，因为展示百分比算少的，但是占收入很高，所以可能和色情相关联？<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635581743419-6fb8762e-ddbb-4580-8605-4b5ce5d578a8.png#clientId=u7aab50a4-01af-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=ua452a6cd&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=560&amp;originWidth=841&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=40621&amp;status=done&amp;style=none&amp;taskId=u66017954-922e-4518-a776-824897d27db&amp;title=" alt="image.png"></p><blockquote><p>总之，屏蔽类别关键词：<code>软件</code>，<code>烟草</code>，<code>酒精</code></p></blockquote><p>还有存疑的类别就是<code>网络安全软件</code>，<code>浏览器</code>和<code>电视节目</code>，因为我们看到的不符合法律要求的广告，在我看来，他们应该属于这些范畴内<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635583311753-d05538e3-ecca-4018-a312-d15d225a49bc.png#clientId=u7aab50a4-01af-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u36d34177&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=254&amp;originWidth=1376&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=36573&amp;status=done&amp;style=none&amp;taskId=ua9609a93-0a86-4140-bf73-34ed7b57951&amp;title=" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635582314358-9009611c-3999-490c-bca3-374058af2c9d.png#clientId=u7aab50a4-01af-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=257&amp;id=u372c93c5&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=513&amp;originWidth=1385&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=57515&amp;status=done&amp;style=none&amp;taskId=uf498f87a-8ca0-40fa-a6d9-7cc16fdaf27&amp;title=&amp;width=692.5" alt="image.png"></p><h3 id="隐私保护">隐私保护<a class="fa-solid fa-hashtag faa-pulse animated" href="#隐私保护"></a></h3><blockquote><p>除了屏蔽敏感内容以外，还得注意隐私保护，因此还可以针对性做一点设置，不提供个性化广告服务（即使知道这样会减少广告点击率，但本来也就没什么点击率）；此外为了网页加载速度和阅读体验，关闭动画展示、VPAID 广告</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428112922-e64ca989-4c5e-4c23-beb5-48fb7100af82.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u1a63438b&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%999-%E2%80%93-Google-AdSense.png&amp;originHeight=1346&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=247803&amp;status=done&amp;style=none&amp;taskId=uc83adc33-68aa-4817-a8fe-6b76dfed387&amp;title=" alt="所有网站9-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428120761-09d27159-76e4-4998-8587-aa9404d438cf.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u298d1df8&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%9910-%E2%80%93-Google-AdSense.png&amp;originHeight=892&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=154539&amp;status=done&amp;style=none&amp;taskId=u4a34a550-78ff-4010-ac2b-934b73f1b7c&amp;title=" alt="所有网站10-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428210581-3a98a62e-76aa-4b1c-845b-ad4b4be80e51.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u1d91d2de&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%995-%E2%80%93-Google-AdSense.png&amp;originHeight=787&amp;originWidth=1432&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=142742&amp;status=done&amp;style=none&amp;taskId=uc5daad4d-4a39-44d8-9c8b-daaa36b4c7c&amp;title=" alt="所有网站5-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428224004-548d863d-d1dc-480e-8890-be1e3b991334.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=uf7edb613&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%997-%E2%80%93-Google-AdSense.png&amp;originHeight=1153&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=233451&amp;status=done&amp;style=none&amp;taskId=ub77f964b-318a-4278-a713-1048ff91c53&amp;title=" alt="所有网站7-–-Google-AdSense.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1635428232516-413c44a4-7f1e-42f8-850e-b05f7cf51720.png#clientId=ud2d03121-7696-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=drop&amp;id=u58c0bf14&amp;margin=%5Bobject%20Object%5D&amp;name=%E6%89%80%E6%9C%89%E7%BD%91%E7%AB%998-%E2%80%93-Google-AdSense.png&amp;originHeight=1063&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=229192&amp;status=done&amp;style=none&amp;taskId=u8aca170f-9028-45d0-9138-2cadca9aeb9&amp;title=" alt="所有网站8-–-Google-AdSense.png"></p><h2 id="展望未来">展望未来<a class="fa-solid fa-hashtag faa-pulse animated" href="#展望未来"></a></h2><p>开通广告当然还可以激励着自己，希望能坚持产出以便对得起我展示广告，虽然还不一定看得到，但确实展示量够了还是有一点收入的，哪怕每天 0.01 ＄，十年过去，应该够域名费用了吧（笑死，还是不够），但我还不配，或许那个时候我的博客访问量激增（当然掌握了更多知识，分享了更多内容）。</p><p>当然这个世上没有如果，既然买了十年的域名，就要好好做下去，但愿十年后博客还有人访问评论，交流心得！此外，如果你知道更好的广告屏蔽类别组合，欢迎留言，因为真的不想再突然蹦出色情和梯子广告了，不然别人还以为我是什么不正经博客，本来访问量就低，就怕三秒就走了，名声还坏了！！！</p>]]></content:encoded>
      
      
      <category domain="https://blog.ccknbc.cc/categories/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      
      <category domain="https://blog.ccknbc.cc/tags/google-adsense/">google adsense</category>
      
      
      <comments>https://blog.ccknbc.cc/posts/google-adsense-configuration-manual/#post-comment</comments>
      
    </item>
    
    <item>
      <title>如何优雅隐藏 Hexo 文章</title>
      <link>https://blog.ccknbc.cc/posts/how-to-hide-hexo-articles-gracefully/</link>
      <guid>https://blog.ccknbc.cc/posts/how-to-hide-hexo-articles-gracefully/</guid>
      <pubDate>Sat, 23 Oct 2021 14:00:00 GMT</pubDate>
      
      <description>本文介绍三种方法来优雅隐藏 Hexo 文章</description>
      
      
      
      <content:encoded><![CDATA[<p>本文首发在<a href="https://www.yuque.com/ccknbc/blog/30"><strong>语雀</strong></a>，自动同步更新至<a href="https://blog.ccknbc.cc/posts/how-to-hide-hexo-articles-gracefully"><strong>CC 的部落格</strong></a></p><h2 id="延迟发布">延迟发布<a class="fa-solid fa-hashtag faa-pulse animated" href="#延迟发布"></a></h2><ul><li><code>_config.yml</code>( <mark class="hl-label blue">Hexo</mark> 配置文件)关闭显示未来文章（即将<code>future</code>配置为 <mark class="hl-label red">false</mark> ，这样如果你手动指定日期晚于当前时间，就不会生成，当你想要发布文章时修改一下发布时间，或者到了预定发布的时间时重新部署一次即可展示文章</li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">auto_spacing:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">external_link:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="发布状态">发布状态<a class="fa-solid fa-hashtag faa-pulse animated" href="#发布状态"></a></h2><ul><li>在文章 Markdown 文件<code>Front-Matter</code>部分配置<code>published</code>参数</li></ul><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="section">published: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>即可达到与上面一样的效果，这样当我们认为文章可以公开时，再设为<code>true</code>或者删掉这个配置即可，同样由于是静态博客，仍需要重新部署一次才会显示</p><h2 id="首页隐藏">首页隐藏<a class="fa-solid fa-hashtag faa-pulse animated" href="#首页隐藏"></a></h2><ul><li>前两种方式如果你的源码仓库闭源的话，是完全隐藏的，只有你知道，但是有时候我们只想在首页隐藏部分文章，而不是不公开文章，我们需要更换首页生成插件，执行以下命令</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm uninstall hexo-generator-index</span><br><span class="line">$ npm install hexo-generator-indexed</span><br></pre></td></tr></table></figure><p>隐藏文章 ，在文章的 Front-matter 中增加一个 hide 参数用来隐藏</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: example</span><br><span class="line"><span class="section">hide: true</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><pre><code>隐藏特定分类中的文章，在 Hexo 的 `_config.yml` 中可以通过 `hide_categories` 选项设置隐藏某个分类下的文章，例如：</code></pre><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">hide_categories:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">categorie1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">categorie2</span></span><br></pre></td></tr></table></figure><h2 id="存为草稿">存为草稿<a class="fa-solid fa-hashtag faa-pulse animated" href="#存为草稿"></a></h2><p>对于我来说，由于我使用的是语雀，在未发布前，都储存在草稿箱所以不会有这个问题，而我发布后文章会同步到源代码仓库<code>posts</code>分支；但总有小伙伴那么几篇文章不想让别人看到，所以水了这篇文章；并且生成后的代码仓库大多数情况下是公开的，所以还是推荐没写完就不要发布了，留在草稿箱，即使你指定一个只有你自己知道的路径，虽然一般人不会闲得慌去看你仓库，但并没有达到不想公开的效果，因此可以在博客目录<code>.gitignore</code>文件添加忽略草稿目录</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">hexo.bat</span><br><span class="line">yuque.json</span><br><span class="line">*.log</span><br><span class="line">public</span><br><span class="line">node_modules</span><br><span class="line">.deploy*</span><br><span class="line">.nojekyll</span><br><span class="line">source/_posts/语雀</span><br><span class="line">themes/butterfly/.git</span><br><span class="line">source/_drafts</span><br></pre></td></tr></table></figure><p>当然在使用草稿功能前，注意检查<code>_config.yml</code>Hexo 配置文件是否关闭显示（渲染）草稿</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>此外，在最开始的<code>Hexo</code>的<mark class="hl-label blue">Writing</mark> 部分配置项中我们知道<code>default_layout: post</code>，即默认布局为<code>post</code>文章类别，又因为<code>new</code>可以简写为<code>n</code>，因此默认情况下以下 3 条新建文章命令等效</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new post &lt;title&gt;</span><br><span class="line">或</span><br><span class="line">$ hexo new &lt;title&gt;</span><br><span class="line">或</span><br><span class="line">$ hexo n &lt;title&gt;</span><br></pre></td></tr></table></figure><p>同理，在 <a href="https://hexo.io/zh-cn/docs/writing#%E8%8D%89%E7%A8%BF"><strong>Hexo 官方文档</strong></a>中也有提到，如果要新建草稿，可使用如下命令</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new draft &lt;title&gt;</span><br><span class="line">或</span><br><span class="line">$ hexo n draft &lt;title&gt;</span><br></pre></td></tr></table></figure><p>当然我们还要知道默认的 layout 模板文件存在<code>根目录/scaffolds</code>下（我们可以自行新建或修改模板，这里不做展开），草稿存在<code>根目录/source/_drafts</code>下，文章存在<code>根目录/source/_posts</code>下<img src="https://cdn.nlark.com/yuque/0/2021/png/8391407/1634995673577-e2dcbc1a-09aa-4e23-9e85-e9fb14569860.png#clientId=uf9f3006a-c368-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u628c29ef&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=225&amp;originWidth=773&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=19625&amp;status=done&amp;style=none&amp;taskId=udd042d08-4723-4ea0-a066-d5e770f53ab&amp;title=" alt="image.png">刚刚提到了 <code>Hexo</code> 的一种特殊布局：<code>draft</code>，这种布局在建立时会被保存到 <code>source/_drafts</code>文件夹，您可通过<code>publish</code> 命令将草稿移动到 <code>source/_posts</code> 文件夹，该命令的使用方式与 <code>new</code> 十分类似，您也可在命令中指定 layout 来指定布局。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo publish [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><p>那么如果我们要发布草稿即可使用如下命令</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo publish &lt;title&gt;</span><br><span class="line">或</span><br><span class="line">$ hexo p &lt;title&gt;</span><br></pre></td></tr></table></figure><p>草稿默认不会显示在页面中，您可在执行时加上 <code>--draft</code>参数，或是把 <code>render_drafts</code> 参数设为 <mark class="hl-label green">true</mark>  来预览草稿。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo s --draft</span><br><span class="line">$ hexo g --draft</span><br></pre></td></tr></table></figure><p>若日后想将正式文章转为为草稿，只需手动将文章从<code> source/_posts</code>目录移动到<code> source/_drafts</code>目录即可。而对于加密这个操作，我觉得是没有必要了，但也有对应的使用场景，各取所需吧。</p>]]></content:encoded>
      
      
      <category domain="https://blog.ccknbc.cc/categories/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      
      <category domain="https://blog.ccknbc.cc/tags/%E5%8D%9A%E5%AE%A2/">博客</category>
      
      <category domain="https://blog.ccknbc.cc/tags/Hexo/">Hexo</category>
      
      
      <comments>https://blog.ccknbc.cc/posts/how-to-hide-hexo-articles-gracefully/#post-comment</comments>
      
    </item>
    
  </channel>
</rss>
